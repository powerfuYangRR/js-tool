# 对xss攻击的了解

1. 首先，xss攻击是黑客在你的浏览器中注入一段恶意的JavaScript脚本，他就可以窃取你的隐私信息，然后冒充你的身份去进行操作。这个叫做xss攻击，他的全称是Cross Site Script，叫做跨站脚本攻击。

2. 因为浏览器是无法区分脚本是恶意注入的，还是正常的内容，他都会执行。况且现在的html可以任何时候去进行修改。

3. xss有以下三种：
> 1. 反射型XSS，也叫做非持久型XSS，顾名思义，恶意JavaScript脚本它属于用户发送给网站请求的某一部分，随后网站又将这一部分返回给用户，那么恶意脚本在页面中执行，一般就发生在前后端一体的应用中，服务端逻辑它会改变最终返回的网页代码
> 2. 基于DOM型，基于DOM型更流行前后端分离的项目，反射型xss就无用武之地，但这种攻击呢就不需要经过服务器，我们知道，网页本身的JavaScript它也是可以改变html的，黑客正式利用这一点来实现注入恶意脚本
> 3. 存储型XSS，也叫持久型XSS，顾名思义，黑客将恶意的JavaScript脚本长期保存在服务器的数据库中，用户一旦访问相关的页面数据，恶意脚本它就会被执行，一般常见于搜索，微博，还有社区的贴吧评论

4. 那他们有什么区别呢，反射型的xss它的脚本是存在url里面的，存储型的XSS它的恶意代码是存储在数据库里面的，而基于DOM型的xss它是取走和执行恶意代码，由浏览器来完成，属于前端JavaScript自身的安全漏洞，其余两种xss都是属于服务端的一个安全漏洞

5. 那么黑客可以通过xss攻击做哪些事呢，首先他可以盗取用户的cookie，然后进行一个没有授权的操作，他也可以去修改DOM，也可以去刷一下浮窗广告，也可以去截取用户的行为，进一步的去渗透内网，其实他可以通过这种攻击做的事情太多太多

6. xss如果去进行防护呢：
> 1. 一切用户输入的地方呢，多加上验证
> 2. 就是将html的元素内容啊，属性啊，以及url的请求参数啊全部进行编码
> 3. 就是编码影响业务时，使用白名单规则去进行一个检测和过滤
> 4. 就是使用w3c提供的一个CSP，叫做Content Security Policy，叫做内容安全策略，来定义域名的一个白名单
> 5. 去设置cookie的一个httponly属性